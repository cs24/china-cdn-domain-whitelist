# 中国CDN服务提供商域名白名单

项目起因
-----
我在采用“白名单”机制搭建防污染递归DNS服务器的过程中，发现网友整理的域名白名单虽然包含了国内大多数的大型网站，但并没有（国内）各家CDN服务商的域名。而缺失这部分域名，对于一个递归DNS服务器来说是很要命的，因为这部分域名是最需要直接解析的（具体原理略过不讲）。

对一个使用CDN服务的站点而言，如果CDN服务商分配的域名（如`www.abc.com.lxdns.com`）通过海外代理进行解析，CDN基本就不能分配一个合适的访问节点，甚至会出现“人在国内，分配节点却在海外”的问题，十分影响用户体验。

生成机制
-----
为此，我通过工信部的“ICP备案查询系统”搜集了各家CDN服务商持有的域名，又进行了进一步的整理，于是得到了这份《中国CDN服务提供商域名白名单》。

使用优点
-----
在使用这份白名单后，可以很大程度上提升递归DNS服务器对使用CDN服务站点的友好程度。同本地运行商的DNS服务器相比，可以避免DNS劫持、DNS污染等问题；同公共DNS服务器相比，解析精度要好得多（前提是外层域名没有对国内外线路区分解析，假如外层域名将国内请求解析到 _网宿_ ，国外请求解析到 _Akamai_ ，因为外层域名不属于白名单被解析到了 _Akamai_ ，而 _Akamai_ 在国内是没有CDN节点的，所以即使DNS服务器能够对 _Amakai_ 有最佳解析，分配的也是国外的最优节点，而国外节点的速度也是远远无法和国内节点相比的；而如果外层域名只是解析到 _网宿_ 、 _阿里云_ 之类的国内CDN服务提供商，因为外层域名无需区分Region进行解析，只是`CNAME`别名解析到内层的CDN服务商的域名，而内层的CDN服务商的域名因为存在于咱们的白名单之内，所以一定是不通过DNS代理、而直接进行解析的。如果本DNS服务的上级DNS是本地运营商提供的DNS服务器地址，而不是一些公共DNS服务器，则解析精度和采用本地运营商的DNS服务基本是一致的，而且可以享受到`免DNS劫持`、`免DNS污染`等优点）。

现有服务商
-----
目前这份名单中包含的服务商有：`蓝汛`、`Webluker`、`网宿`、`快网`、`阿里云CDN`、`腾讯云CDN`、`百度云CDN`、`百度云加速`、`又拍云存储`、`360网站卫士`、`七牛云存储`。

需要说明的是，这份名单中只包括基础CDN服务商（也就是自家公司独立提供服务，非代理）的域名。按说 _七牛_ 不算，但是考虑到一些 _七牛_ 用户使用的是多家CDN服务商的服务，而这个服务区分由 _七牛_ 的域名进行判定的，所以也就把 _七牛_ 的域名一同加了进来。

结语
-----
目前这份名单还只是一个十分初级的版本，非常不完整，所以也希望各位网友能够一起行动起来，共同把这份名单维护地更加完整。
